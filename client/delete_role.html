<html>
  <head>
    <title>
      Delete Role
    </title>

    <link rel='stylesheet' type='text/css' href='./mystyle.css' />
  </head>
  <body>
      <h1>ROLE BASED ACCESS CONTROL</h1>
      <div id = 'aform' class = 'aform'>
        <form method="POST">
        Role: 
        <select required id="all_roles" name="roles"></select>
        <br />
         
        <input class='submit' type="submit" value='Delete Role' />
        
        </form>
      </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src = './myscript.js'></script> 
    <script src= './injectButtons.js'></script> 
    <script>
        $(document).ready(()=>{
            $("form").submit((event)=>{
            event.preventDefault();
            const role_name = $('#all_roles').val();
            var post_url = '/delete_role';
            form_data = { 
                          role_name
                        };
            console.log(form_data);
            $.post(post_url, form_data, ( response )=> {
              if(response.length == 0)
                {alert('No response recieved ');return false;}
              
              //console.log(response);
              // response will be either true or false
              if(response == true)
                alert('Role deleted');
              else if(response ==false)
                alert('Role already deleted.');
              else
                alert(response);
             
                
            }); 
          });

      });// end of document.ready
    </script>
  </body>

  
</html>